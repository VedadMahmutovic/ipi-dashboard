<div class="dashboard-page">

  <header class="dashboard-header">
    <div>
      <h1>Personal Life Dashboard</h1>
      <p>Dobrodošao, {{ user?.name }}</p>
    </div>
  </header>

  <section class="module-grid">
    <div class="module-card"
         *ngFor="let m of modules"
         [class.active]="activeModules.includes(m.id)"
         (click)="toggle(m.id)">
      <h3>{{ m.title }}</h3>
      <p>{{ m.description }}</p>
    </div>
  </section>

  <section class="windows"
           cdkDropList
           (cdkDropListDropped)="dropWindow($event)">

    <div class="window"
         *ngFor="let id of activeModules"
         cdkDrag>

      <div class="window-header" cdkDragHandle>
        {{ getTitle(id) }}
        <span class="drag-hint">⠿</span>
      </div>

      <div class="window-body">
        <app-habit *ngIf="id === 'habit'"></app-habit>
        <app-mood *ngIf="id === 'mood'"></app-mood>
        <app-sleep *ngIf="id === 'sleep'"></app-sleep>
        <app-tasks *ngIf="id === 'tasks'"></app-tasks>
        <app-water *ngIf="id === 'water'"></app-water>
        <app-reflection *ngIf="id === 'reflection'"></app-reflection>
      </div>

    </div>

  </section>

</div>
